template_path: consul/logger.j2
parameters:
  Env: {{ envname }}
  VPC: !stack_output {{ envname }}/network/vpc.yaml::VPC
  SubnetIds:
    - !stack_output {{ envname }}/network/vpc.yaml::PrivSubnet1
    - !stack_output {{ envname }}/network/vpc.yaml::PrivSubnet2
    - !stack_output {{ envname }}/network/vpc.yaml::PrivSubnet3
  AMI: !environment_variable LOGGERAMI
  InstanceType: t2.micro
  ServiceName: consul
  TargetGroup: !stack_output {{ envname }}/consul/nlb.yaml::SyslogTargetGroup
  VPCCIDR: !stack_output {{ envname }}/network/vpc.yaml::VPCCIDR
